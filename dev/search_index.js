var documenterSearchIndex = {"docs":
[{"location":"","page":"Home","title":"Home","text":"CurrentModule = Epidemics","category":"page"},{"location":"#Epidemics","page":"Home","title":"Epidemics","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Documentation for Epidemics.","category":"page"},{"location":"#Benchmarking","page":"Home","title":"Benchmarking","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This section shows some benchmarking.","category":"page"},{"location":"","page":"Home","title":"Home","text":"using BenchmarkTools\nusing Epidemics\n\n# an epidemic of 500 days\ntime_end = 500.0\n\n# benchmark the default model with 3 age groups, intervention, and vaccination\n@benchmark epidemic_default(β=1.3/7, σ=0.5, γ=1/7, population = Population(), time_end=time_end, increment=1.0)","category":"page"},{"location":"#Get-started","page":"Home","title":"Get started","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using Epidemics\nusing Gadfly\nusing DataFrames\n\n# an epidemic of 500 days\nsim_time_end = 500.0\n\n# population of 10 million in three age groups\npop = Population(\n    demography_vector = 10e6 .* [0.2, 0.5, 0.3],\n    initial_conditions = [1 - 1e-6 0.0 1e-6 0.0 0.0; 1 - 1e-6 0.0 1e-6 0.0 0.0; 1 - 1e-6 0.0 1e-6 0.0 0.0],\n    contact_matrix = ones(3, 3) * 5\n)\n\n# make model parameters using helpers\nr0 = 1.5\ninfectious_period = 7\npreinfectious_period = 2\n\nβ = r0_to_beta(r0 = r0, infectious_period = infectious_period)\nσ = preinfectious_period_to_alpha(preinfectious_period = preinfectious_period)\nγ = infectious_period_to_gamma(infectious_period = infectious_period)\n\n# run the default model with 3 age groups, but no intervention or vaccination\ndata = epidemic_default(\n    β=β, σ=σ, γ=γ,\n    population = pop,\n    time_end = sim_time_end, increment=1.0\n)\n\n# convert to dataframe\ndata_output = DataFrame(data)\n\n# WIP - function to handle data with correct naming\ndata_output = prepare_data(ode_solution_df = data_output, n_age_groups = 3)\n\n# filter data for infectious only\ndata_infectious = filter(:compartment => n -> n == \"infectious\", data_output)\n\nplot(\n    data_infectious, \n    x = \"timestamp\",\n    y = \"value\", \n    color = \"demo_group\", \n    Geom.line,\n    Guide.xlabel(\"Time\"),\n    Guide.ylabel(\"Individuals infectious\"),\n    Guide.colorkey(\"Demographic group\"),\n    Scale.x_continuous(minvalue=100, maxvalue=500),\n    Theme(\n        key_position=:top\n    )\n)","category":"page"},{"location":"#Modelling-an-intervention-on-social-contacts","page":"Home","title":"Modelling an intervention on social contacts","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using Epidemics\nusing Gadfly\nusing DataFrames\n\n# an epidemic of 300 days\nsim_time_end = 500.0\n\n# population of 10 million in three age groups\npop = Population(\n    demography_vector = 10e6 .* [0.2, 0.5, 0.3],\n    initial_conditions = [1 - 1e-6 0.0 1e-6 0.0 0.0; 1 - 1e-6 0.0 1e-6 0.0 0.0; 1 - 1e-6 0.0 1e-6 0.0 0.0],\n    contact_matrix = ones(3, 3) * 5\n)","category":"page"},{"location":"","page":"Home","title":"Home","text":"# an intervention that reduces contacts by 50%, 20% and 60% for each age group\n# respectively\nintervention = Npi(\n    time_begin = 200, time_end = 230, \n    contact_reduction = [0.3, 0.1, 0.1]\n)\n\n# make model parameters using helpers\nr0 = 1.5\ninfectious_period = 7\npreinfectious_period = 2\n\nβ = r0_to_beta(r0 = r0, infectious_period = infectious_period)\nσ = preinfectious_period_to_alpha(preinfectious_period = preinfectious_period)\nγ = infectious_period_to_gamma(infectious_period = infectious_period)\n\n# run a model with no intervention or vaccination\ndata_baseline = epidemic_default(\n    β=β, σ=σ, γ=γ,\n    population = pop,\n    time_end = sim_time_end, increment = 1.0\n)\n\n# run the default model with 3 age groups, intervention, no vaccination\ndata = epidemic_default(\n    β=β, σ=σ, γ=γ,\n    population = pop,\n    intervention = intervention,\n    time_end = sim_time_end, increment = 1.0\n)\n\n# convert to dataframe\ndata_baseline = DataFrame(data_baseline)\ndata_output = DataFrame(data)\n\n# function to handle data with correct naming\ndata_baseline = prepare_data(ode_solution_df = data_baseline, n_age_groups = 3)\ndata_output = prepare_data(ode_solution_df = data_output, n_age_groups = 3)\n\n# assign scenario and combine\ndata_baseline[!, :scenario] .= \"baseline\"\ndata_output[!, :scenario] .= \"intervention\"\n\ndata = vcat(data_baseline, data_output)\n\n# filter data for infectious only\ndata_infectious = filter(:compartment => n -> n == \"infectious\", data)\n\nplot(\n    data_infectious, \n    x = \"timestamp\",\n    y = \"value\", \n    color = \"demo_group\",\n    linestyle = \"scenario\",\n    Geom.line,\n    Guide.xlabel(\"Time\"),\n    Guide.ylabel(\"Individuals infectious\"),\n    Guide.colorkey(\"Demographic group\"),\n    Scale.x_continuous(minvalue=100, maxvalue=500),\n    Theme(\n        key_position=:top\n    )\n)","category":"page"},{"location":"","page":"Home","title":"Home","text":"The example here shows how implementing a non-pharmaceutical intervention can reduce the number of infectious individuals in the population.","category":"page"},{"location":"#Index","page":"Home","title":"Index","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"#Documentation","page":"Home","title":"Documentation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [Epidemics]","category":"page"},{"location":"#Epidemics.Npi","page":"Home","title":"Epidemics.Npi","text":"Npi(timebegin, timeend, contact_reduction)\n\nA structure to hold the end points and strength of a non-pharmaceutical intervention.\n\n\n\n\n\n","category":"type"},{"location":"#Epidemics.Population","page":"Home","title":"Epidemics.Population","text":"Population(name, demographyvector, initialconditions, contact_matrix)\n\nA structure to hold population characteristics, including:\n\n'name': A name for the population.\n'demography_vector': A numeric vector of the number of individuals in each\n\nage or demographic group of the population.\n\n'initial_conditions': A numeric matrix representing the proportions of each\n\nage or demographic group that are in one of the epidemiological compartments.\n\n'contact_matrix': A matrix giving the contacts between the demographic groups\n\nin the population. Must be a square matrix.\n\n\n\n\n\n","category":"type"},{"location":"#Epidemics.Vaccination","page":"Home","title":"Epidemics.Vaccination","text":"Vaccination(timebegin, timeend, ν)\n\nA structure to hold the end points and strength of a non-pharmaceutical intervention.\n\n\n\n\n\n","category":"type"},{"location":"#Epidemics.default_contact_matrix-Tuple{}","page":"Home","title":"Epidemics.default_contact_matrix","text":"default_contact_matrix(; n_groups=3)\n\nCreate a uniform contact matrix.\n\nNamed Arguments\n\nn_groups: A Number for the number of demographic groups in the population.\n\nReturns\n\nA matrix of ones with the dimensions n_groups * n_groups.\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.default_initial_conditions-Tuple{}","page":"Home","title":"Epidemics.default_initial_conditions","text":"default_initial_conditions(; n_groups=3, p_infected=[1e-6, 1e-6, 1e-6],\n    p_exposed=[0.0, 0.0, 0.0])\n\nCreate some useful initial conditions for the default SEIRV epidemic model.\n\nNamed Arguments\n\nn_groups: A Number for the number of demographic groups in the population.\np_infected: The proportion of each demographic group that is infected and   also infectious. This is expected to be a Vector of Numbers with each   value between 0.0 and 1.0.\np_exposed: The proportion of each demographic group that is exposed but not   yet infectious. This is expected to be a Vector of Numbers with each   value between 0.0 and 1.0.\n\nReturns\n\nA matrix with the dimensions n_groups * 5, with each row representing a     demographic groups and each column representing one of the five     epidemiological compartments of the default model.\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.epidemic_default-Tuple{}","page":"Home","title":"Epidemics.epidemic_default","text":"epidemic_default(β, σ, γ,\n    population, intervention, vaccination,\n    time_end, increment\n)\n\nModel the progression of an epidemic, with age- or demographic-group specific contact patterns and proportions, non-pharmaceutical interventions with group- specific effects, and group-specific vaccination regimes.\n\nArguments\n\nβ: the transmissibility of the disease;\nσ: the rate of transition from the exposed to the infectious compartment;\nγ: the recovery rate.\npopulation: A Population with population characteristics;\nintervention: An Npi for interventions on social contacts;\nvaccination: A Vaccination for the vaccination regime applied;\ntime_end: The time in days at which to end the simulation, defaults to 200;\nincrement: The increment in simulation time, defaults to 1.0.\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.epidemic_default_ode!-NTuple{4, Any}","page":"Home","title":"Epidemics.epidemic_default_ode!","text":"epidemic_default_ode!(du, u, parameters, t)\n\nA simple SEIRV epidemic model function that allows for multiple demographic groups. This function is intended to be called internally from epidemic_default.\n\nThe function expects the parameters argument to be a four element vector or tuple with the following elements (which do not have to be named):\n\na Population object with a prepared contact matrix, see Population;\nbeta, the transmission rate;\nsigma, the rate of conversion from exposed to infectious;\ngamma, the rate of recovery;\na matrix specifying the contacts between demographic groups;\nan Npi object specifying the intervention applied to each age\n\ngroup, see Npi;\n\na Vaccination object, see Vaccination;\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.epidemic_vacamole-Tuple{}","page":"Home","title":"Epidemics.epidemic_vacamole","text":"epidemic_vacamole(β, σ, γ, η, ω, βv, ηv, ωv,\n    population, intervention, vaccination,\n    time_end, increment\n)\n\nModel the progression of an epidemic, with age- or demographic-group specific contact patterns and proportions, non-pharmaceutical interventions with group- specific effects, and group-specific vaccination regimes.\n\nThe Vacamole model was developed by RIVM, and is particularly useful for modelling leaky, two-dose vaccination.\n\nArguments\n\nβ: the transmissibility of the disease;\nσ: the rate of transition from the exposed to the infectious compartment;\nγ: the recovery rate;\nη: the hospitalisation rate;\nω: the mortality rate;\nβv: the transmissibility for fully (doubly) vaccinated individuals;\nηv: the hospitalisation rate for fully vaccinated individuals;\nωv: the mortality rate for fully vaccinated individuals;\npopulation: A Population with population characteristics, which must have\n\n11 compartments in the initial conditions;\n\nintervention: An Npi for interventions on social contacts;\nvaccination: A Vaccination for the vaccination regime applied;\ntime_end: The time in days at which to end the simulation, defaults to 200;\nincrement: The increment in simulation time, defaults to 1.0.\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.epidemic_vacamole_ode!-NTuple{4, Any}","page":"Home","title":"Epidemics.epidemic_vacamole_ode!","text":"epidemic_vacamole_ode!(du, u, parameters, t)\n\nAn epidemic model adapted from the Vacamole model developed by RIVM, the Dutch public health agency, to model the effect of leaky, two-dose vaccination on the Covid-19 pandemic (Ainslie et al. 2022).\n\nThis adaptation implements leaky two-dose vaccination, as well as allowing for \"hospitalised\" and \"dead\" compartments. Individuals who have been doubly vaccinated can be modelled as having lower susceptibility to infection, and lower hospitalisation and mortality rates.\n\nThe model also allows for multiple demographic groups and interventions. This function is intended to be called internally from epidemic_vacamole.\n\nThe function expects the parameters argument to be a four element vector or tuple with the following elements (which do not have to be named):\n\na Population object with a prepared contact matrix, see [Population]\n\n(@ref);\n\nbeta, the baseline transmission rate;\nbeta_v, the transmission rate for doubly vaccinated individuals;\nalpha, the rate of conversion from exposed to infectious;\neta, the baseline hospitalisation rate;\neta_v, the hospitalisation rate for doubly vaccinated individuals;\nomega, the baseline mortality rate;\nomega_v, the mortality rate for doubly vaccinated individuals;\ngamma, the rate of recovery;\na matrix specifying the contacts between demographic groups;\nan Npi object specifying the intervention applied to each age group, see Npi;\na Vaccination object, see Vaccination;\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.infectious_period_to_gamma-Tuple{}","page":"Home","title":"Epidemics.infectious_period_to_gamma","text":"infectious_period_to_gamma(; infectious_period)\n\nCalculate the recovery rate of the infection gamma from the infectious period.\n\nNamed Arguments\n\ninfectious_period: A single number for the mean duration in days that   individuals are infectious.\n\nReturns\n\nA single number representing the recovery rate of the infectious gamma\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.preinfectious_period_to_alpha-Tuple{}","page":"Home","title":"Epidemics.preinfectious_period_to_alpha","text":"preinfectious_period_to_alpha(; r0, preinfectious_period)\n\nCalculate the rate of transition from the 'exposed' to the 'infectious' compartment, alpha from the mean period between exposure and the initial occurrence of symptoms.\n\nNamed Arguments\n\npreinfectious_period: A single number for the mean duration in days between   individuals being exposed to infection and becoming infectious.\n\nReturns\n\nA single number representing the transmission rate of the infectious alpha\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.prepare_contact_matrix-Tuple{}","page":"Home","title":"Epidemics.prepare_contact_matrix","text":"prepare_contact_matrix(; population)\n\nPrepare a population contact matrix for an epidemic model.\n\nNamed Arguments\n\npopulation: A Population object with information about the population   affected by the epidemic. Must include a contact matrix, and   a demography vector.\n\nReturns\n\nA matrix of ones with the dimensions n_groups * n_groups.\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.prepare_initial_conditions-Tuple{}","page":"Home","title":"Epidemics.prepare_initial_conditions","text":"prepare_initial_conditions(; population)\n\nPrepare initial conditions from a Population object.\n\nNamed Arguments\n\npopulation: A Population object with information about the population   affected by the epidemic. Must include a matrix of initial conditions, and   a demography vector.\n\nReturns\n\nA matrix with the initial conditions scaled by the demography vector.\n\n\n\n\n\n","category":"method"},{"location":"#Epidemics.r0_to_beta-Tuple{}","page":"Home","title":"Epidemics.r0_to_beta","text":"r0_to_beta(; r0, infectious_period)\n\nCalculate the transmission rate beta from the basic reproductive number R_0 and the mean infectious period.\n\nNamed Arguments\n\nr0: A single number for the basic reproduction number of an infection;\ninfectious_period: A single number for the mean duration in days that    individuals are infectious.\n\nReturns\n\nA single number representing the transmission rate of the infection beta\n\n\n\n\n\n","category":"method"}]
}
